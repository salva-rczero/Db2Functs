--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".CSI
     (VARCHAR(44),
      VARCHAR(16))
    RETURNS TABLE(ENTRY CHAR(44),
                  "TYPE" CHAR(1),
                  VOLSER VARCHAR(256),
                  DEVTYP VARBINARY(256))
    SPECIFIC CSI
    EXTERNAL NAME 'KB5ACSI'
    LANGUAGE ASSEMBLE
    DETERMINISTIC  PARAMETER CCSID EBCDIC  PARAMETER STYLE DB2SQL
    FENCED  CALLED ON NULL INPUT  NO SQL  NO EXTERNAL ACTION
    NO PACKAGE PATH  SCRATCHPAD 512  FINAL CALL  DISALLOW PARALLEL
    NO DBINFO  NO COLLID  WLM ENVIRONMENT DB0D_LOCAL
    ASUTIME LIMIT 1000  STAY RESIDENT NO  PROGRAM TYPE SUB
    SECURITY DB2  STOP AFTER SYSTEM DEFAULT FAILURES
    INHERIT SPECIAL REGISTERS `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".DIGMOD11
     (VARCHAR(16))
    RETURNS CHAR(1)
    SPECIFIC DIGMOD11
    EXTERNAL NAME 'KB5AM11'
    LANGUAGE ASSEMBLE
    DETERMINISTIC  PARAMETER CCSID EBCDIC  PARAMETER STYLE DB2SQL
    FENCED  RETURNS NULL ON NULL INPUT  NO SQL  NO EXTERNAL ACTION
    NO PACKAGE PATH  NO SCRATCHPAD  NO FINAL CALL  ALLOW PARALLEL
    NO DBINFO  NO COLLID  WLM ENVIRONMENT DB0D_LOCAL  ASUTIME NO LIMIT
    STAY RESIDENT NO  PROGRAM TYPE SUB  SECURITY DB2
    STOP AFTER SYSTEM DEFAULT FAILURES  INHERIT SPECIAL REGISTERS `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".NSLOOKUP
     (VARCHAR(255))
    RETURNS VARCHAR(255)
    SPECIFIC NSLOOKUP
    EXTERNAL NAME 'KB5ANSL'
    LANGUAGE ASSEMBLE
    DETERMINISTIC  PARAMETER CCSID EBCDIC  PARAMETER STYLE DB2SQL
    FENCED  RETURNS NULL ON NULL INPUT  NO SQL  NO EXTERNAL ACTION
    NO PACKAGE PATH  NO SCRATCHPAD  NO FINAL CALL  ALLOW PARALLEL
    NO DBINFO  NO COLLID  WLM ENVIRONMENT DB0D_LOCAL  ASUTIME NO LIMIT
    STAY RESIDENT NO  PROGRAM TYPE SUB  SECURITY DB2
    STOP AFTER SYSTEM DEFAULT FAILURES  INHERIT SPECIAL REGISTERS `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".PDSDIR
     (VARCHAR(44))
    RETURNS TABLE(MEMBER CHAR(8))
    SPECIFIC PDSDIR
    EXTERNAL NAME 'KB5ADIR'
    LANGUAGE ASSEMBLE
    DETERMINISTIC  PARAMETER CCSID EBCDIC  PARAMETER STYLE DB2SQL
    FENCED  CALLED ON NULL INPUT  NO SQL  NO EXTERNAL ACTION
    NO PACKAGE PATH  SCRATCHPAD 512  FINAL CALL  DISALLOW PARALLEL
    NO DBINFO  NO COLLID  WLM ENVIRONMENT DB0D_LOCAL
    ASUTIME LIMIT 1000  STAY RESIDENT NO  PROGRAM TYPE SUB
    SECURITY DB2  CONTINUE AFTER FAILURE  INHERIT SPECIAL REGISTERS `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".UUID()
    RETURNS CHAR(36)
    SPECIFIC UUID
    EXTERNAL NAME 'KB5AUUI'
    LANGUAGE ASSEMBLE
    NOT DETERMINISTIC  PARAMETER CCSID EBCDIC  PARAMETER STYLE DB2SQL
    FENCED  CALLED ON NULL INPUT  READS SQL DATA  EXTERNAL ACTION
    NO PACKAGE PATH  NO SCRATCHPAD  NO FINAL CALL  DISALLOW PARALLEL
    NO DBINFO  NO COLLID  WLM ENVIRONMENT DB0D_LOCAL  ASUTIME NO LIMIT
    STAY RESIDENT NO  PROGRAM TYPE SUB  SECURITY DB2
    CONTINUE AFTER FAILURE  INHERIT SPECIAL REGISTERS `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".WORD
     (VARCHAR(255),
      INTEGER,
      VARCHAR(1))
    RETURNS VARCHAR(255)
    SPECIFIC WORD
    EXTERNAL NAME 'KB5AWOR'
    LANGUAGE ASSEMBLE
    DETERMINISTIC  PARAMETER CCSID EBCDIC  PARAMETER STYLE DB2SQL
    FENCED  RETURNS NULL ON NULL INPUT  NO SQL  NO EXTERNAL ACTION
    NO PACKAGE PATH  NO SCRATCHPAD  NO FINAL CALL  ALLOW PARALLEL
    NO DBINFO  NO COLLID  WLM ENVIRONMENT DB0D_LOCAL  ASUTIME NO LIMIT
    STAY RESIDENT NO  PROGRAM TYPE SUB  SECURITY DB2
    STOP AFTER SYSTEM DEFAULT FAILURES  INHERIT SPECIAL REGISTERS `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".POSIXT
    (T TIMESTAMP( 6) WITHOUT TIME ZONE)
    RETURNS BIGINT
    VERSION V1
    LANGUAGE SQL
    SPECIFIC POSIXT_TIMESTAMP
    PARAMETER CCSID EBCDIC
    DETERMINISTIC
    NO EXTERNAL ACTION
    CALLED ON NULL INPUT
    READS SQL DATA
    WLM ENVIRONMENT FOR DEBUG MODE DB0D_GENERAL
    ASUTIME NO LIMIT
    INHERIT SPECIAL REGISTERS
    DISALLOW DEBUG MODE
    QUALIFIER S80236G
    PACKAGE OWNER S80236G
    CURRENT DATA NO
    DYNAMICRULES RUN
    WITHOUT EXPLAIN
    WITHOUT IMMEDIATE WRITE
    ISOLATION LEVEL CS
    OPTHINT ''
    REOPT NONE
    VALIDATE RUN
    ROUNDING DEC_ROUND_HALF_EVEN
    DECIMAL(31)
    NOT SECURED
    BUSINESS_TIME SENSITIVE YES
    SYSTEM_TIME SENSITIVE YES
    ARCHIVE SENSITIVE YES
    APPLCOMPAT V12R1M506
    CONCENTRATE STATEMENTS OFF
    BEGIN
      RETURN CAST(DAYS(DATE(T)) - DAYS('1970-01-01') AS BIGINT)*
      86400000 + MIDNIGHT_SECONDS(T)* 1000 ;
    END `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  SET CURRENT SQLID='S80236G'`
  SET CURRENT PATH = "SYSIBM","SYSFUN","SYSPROC","SYSIBMADM","S24412P" `
  CREATE FUNCTION "LOCAL".POSIXT
    (D DATE)
    RETURNS BIGINT
    VERSION V1
    LANGUAGE SQL
    SPECIFIC POSIXT_DATE
    PARAMETER CCSID EBCDIC
    DETERMINISTIC
    NO EXTERNAL ACTION
    CALLED ON NULL INPUT
    READS SQL DATA
    WLM ENVIRONMENT FOR DEBUG MODE DB0D_GENERAL
    ASUTIME NO LIMIT
    INHERIT SPECIAL REGISTERS
    DISALLOW DEBUG MODE
    QUALIFIER S80236G
    PACKAGE OWNER S80236G
    CURRENT DATA NO
    DYNAMICRULES RUN
    WITHOUT EXPLAIN
    WITHOUT IMMEDIATE WRITE
    ISOLATION LEVEL CS
    OPTHINT ''
    REOPT NONE
    VALIDATE RUN
    ROUNDING DEC_ROUND_HALF_EVEN
    DECIMAL(31)
    NOT SECURED
    BUSINESS_TIME SENSITIVE YES
    SYSTEM_TIME SENSITIVE YES
    ARCHIVE SENSITIVE YES
    APPLCOMPAT V12R1M506
    CONCENTRATE STATEMENTS OFF
    BEGIN
      RETURN CAST(DAYS(D) - DAYS('1970-01-01') AS BIGINT)* 86400000 ;
    END `
--¥SET TERMINATOR ;
  COMMIT;
--¥SET TERMINATOR `
  CREATE FUNCTION "LOCAL".B2H
    (BYTES BIGINT)
    RETURNS VARCHAR( 32) FOR SBCS DATA CCSID EBCDIC
    VERSION V1
    LANGUAGE SQL
    SPECIFIC B2H
    PARAMETER CCSID EBCDIC
    DETERMINISTIC
    NO EXTERNAL ACTION
    CALLED ON NULL INPUT
    READS SQL DATA
    WLM ENVIRONMENT FOR DEBUG MODE DB0D_GENERAL
    ASUTIME NO LIMIT
    INHERIT SPECIAL REGISTERS
    DISALLOW DEBUG MODE
    QUALIFIER ADMIN
    PACKAGE OWNER ADMIN
    CURRENT DATA NO
    DYNAMICRULES RUN
    WITHOUT EXPLAIN
    WITHOUT IMMEDIATE WRITE
    ISOLATION LEVEL CS
    OPTHINT ''
    REOPT NONE
    VALIDATE RUN
    ROUNDING DEC_ROUND_HALF_EVEN
    DECIMAL(31)
    NOT SECURED
    BUSINESS_TIME SENSITIVE YES
    SYSTEM_TIME SENSITIVE YES
    ARCHIVE SENSITIVE YES
    APPLCOMPAT V12R1M504
    CONCENTRATE STATEMENTS OFF
    BEGIN
      DECLARE B FLOAT ;
      SET B = FLOAT(BYTES) ;
      CASE
        WHEN BYTES >= 1125899906842624 THEN
          RETURN DECIMAL(B / 1125899906842624 , 10 , 1) || 'PB' ;
        WHEN BYTES >= 1099511627776 THEN
          RETURN DECIMAL(B / 1099511627776 , 10 , 1) || 'TB' ;
        WHEN BYTES >= 1073741824 THEN
          RETURN DECIMAL(B / 1073741824 , 10 , 1) || 'GB' ;
        WHEN BYTES >= 1048576 THEN
          RETURN DECIMAL(B / 1048576 , 10 , 1) || 'MB' ;
        WHEN BYTES >= 1024 THEN
          RETURN DECIMAL(B / 1024 , 10 , 1) || 'KB' ;
        ELSE
          RETURN BYTES || 'B' ;
      END CASE ;
    END `
--¥SET TERMINATOR ;
  COMMIT;
